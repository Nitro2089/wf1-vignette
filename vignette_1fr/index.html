<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaffeekonsum-Umfrage</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #333;
        }
        .question {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #ccc;
        }
        .question:last-child {
            border-bottom: none;
        }
        .question-label {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
            display: block;
        }
        .question-number {
            font-weight: bold;
            margin-right: 5px;
        }
        .slider-container {
            position: relative;
            width: 100%;
            height: 50px;
        }
        .slider-container input {
            position: absolute;
            top: 20px;
            left: 0;
            width: 100%;
        }
        .slider-value {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            background-color: #4CAF50;
            color: white;
            padding: 2px 5px;
            border-radius: 3px;
            font-size: 12px;
            white-space: nowrap;
        }
        .hint {
            background-color: #f0f0f0;
            border-left: 4px solid #4CAF50;
            padding: 10px;
            margin-top: 10px;
            margin-bottom: 15px;
            font-style: italic;
            color: #555;
        }
        select, input[type="radio"] {
            margin-right: 5px;
        }
        select {
            padding: 2px;
            font-size: 14px;
            display: inline-block;
            vertical-align: middle;
        }
        .radio-options {
            margin-top: 15px;
        }
        input[type="submit"] {
            width: 100%;
            padding: 10px;
            margin-top: 20px;
            box-sizing: border-box;
            background-color: #4CAF50;
            border: none;
            color: white;
            cursor: pointer;
        }
        .hidden {
            display: none;
        }
        .inline-options {
            display: flex;
            gap: 10px;
        }
        img {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <h1>Kaffeekonsum-Umfrage</h1>
    <p>
        Liebe/r Teilnehmer/in,<br><br>
        Herzlichen Dank für Deine Teilnahme an dieser Befragung. <br>
        Wir belästigen Dich nicht lange, 5 Minuten sollten ausreichen, um uns zu helfen, das Kaffeeangebot in unserem Büro neu zu denken. <br>
        Im Zusammenhang mit der betrieblichen Ablaufoptimierung, nach der pandemiebedingten Homeoffice Zeit, möchten wir den Kaffeekonsum unserer Mitarbeiter etwas genauer unter die Lupe nehmen. <br>
        Wir, das sind Kevin Fuhrer und ich, Daniel Eymann. <br>
        In der Folge wird dir ein hypothetisches Szenario beschrieben. <br>
        Versuche dich bestmöglich in die Situation zu versetzten und ehrlich zu antworten. <br>
        Die Auswertung erfolgt vollkommen anonym, Dein Name wird nicht mit Deiner Antwort verknüpft! <br>
        Solltest Du unsicher sein, oder Dich nicht in der Lage fühlen zu antworten, so hinterlass bei der Frage einfach ein Häckchen bei «kann ich nicht beantworten». <br>
        Die Umfrage wird anonym durchgeführt, die erhobenen Daten lassen also keine Rückschlüsse auf einzelne Mitarbeiter:innen zu. Solltet Ihr Fragen oder Anregungen haben, so meldet euch ungeniert bei uns. Ob persönlich, via Teams oder über die Emailadresse kaffee@musterag.ch spielt dabei keine Rolle. Die Umfrage läuft ab sofort bis und mit Freitag 22. November 2024. Die Resultate präsentieren wir Euch an der nächsten Mitarbeiterinformation und bedanken uns schon jetzt für Deine Teilnahme. 

    </p>
    <form onsubmit="return validateForm()">
        <div class="question">
            <label class="question-label">
                <span class="question-number">1.</span>
                Nutzt Du aktuell das Angebot für Gratiskaffee bei uns? Sprich, trinkst Du Kaffee aus der zur Verfügung stehenden Maschine?
            </label>
            <div>
                <label><input type="radio" name="freeCoffe" value="ja" onchange="toggleQuestions()" required> Ja</label>
                <label><input type="radio" name="freeCoffe" value="nein" onchange="toggleQuestions()"> Nein</label>
            </div>
        </div>

        <div id="additionalQuestions" class="hidden">
            <div class="question">
                <label class="question-label">
                    <span class="question-number">2.</span>
                    Wie alt bist Du?
                </label>
                <div>
                    <input type="number" name="age" min="0" max="120" required> Jahre
                </div>
            </div>
            <div class="question">
                <label class="question-label" for="coffeeSlider">
                    <span class="question-number">3.</span>
                    Wie viele Tassen trinkst du pro Monat?
                </label>
                <div class="slider-container">
                    <input type="range" id="coffeeSlider" name="coffeeSlider" min="1" max="210" value="10" oninput="updateCalculation()">
                    <div id="sliderValue" class="slider-value">1 Tasse</div>
                </div>
                <div class="hint">
                    Dies entspricht ungefähr <span id="coffeePerDay">0.05</span> Kaffees pro Tag bei einem 
                    <select id="workload" name="workload" onchange="updateCalculation();">
                        <option value="100">100%</option>
                        <option value="90">90%</option>
                        <option value="80">80%</option>
                        <option value="70">70%</option>
                        <option value="60">60%</option>
                        <option value="50">50%</option>
                        <option value="40">40%</option>
                        <option value="30">30%</option>
                        <option value="20">20%</option>
                    </select>
                    Arbeitspensum.
                </div>
            <div class="question"></div>
                <div>
                    <img src="bild_1Fr.png" alt="Bild 50 Rp">
                </div>
                <div>
                    <strong>Stellen Sie sich folgende Situation vor:</strong><br>
                    Sie gehen wie gewohnt im Büro zur Kaffeemaschine um ein Kaffee zu beziehen.<br>
                    Die bestehende Kaffeemaschine bietet Ihnen die übliche Auswahl zwischen Kaffee und Espresso aus der bewerten UCC Kaffeehausmischung.<br>
                    Für den Kaffee wird eine Gebühr von CHF <span id="pricePerCup">0.50</span> pro Tasse erhoben.<br>
                    Bei Deinem aktuellen Kaffeekonsum von <span id="monthlyCups">1</span> Tassen pro Monat würde dies einer monatlichen Ausgaben von <span id="monthlyCost">0.50</span> CHF entsprechen.
                </div>
            </div>
            <div class="question">
                <label class="question-label">
                    <span class="question-number">4.</span>
                    Wie würde sich Dein Kaffeekonsum durch den Preis verändern?
                </label>
                <div>
                    Ich trinke <br><br>
                    <label><input type="radio" name="consumptionChange" value="weniger" required> weniger</label>
                    <label><input type="radio" name="consumptionChange" value="gleichviel"> gleichviel</label>
                    <label><input type="radio" name="consumptionChange" value="mehr"> mehr</label>
                </div>
            </div>
            <div class="question">
                <label class="question-label">
                    <span class="question-number">5.</span>
                    Wie wahrscheinlich würde sich Dein Kaffeekonsum verändern?
                </label>
                <div class="inline-options">
                    <label><input type="radio" name="consumptionLikelihood" value="sehr_unwahrscheinlich" required> Sehr unwahrscheinlich</label>
                    <label><input type="radio" name="consumptionLikelihood" value="relativ_unwahrscheinlich"> Relativ unwahrscheinlich</label>
                    <label><input type="radio" name="consumptionLikelihood" value="relativ_wahrscheinlich"> Relativ wahrscheinlich</label>
                    <label><input type="radio" name="consumptionLikelihood" value="sehr_wahrscheinlich"> Sehr wahrscheinlich</label>
                </div>
            </div>
        </div>
        <input type="submit" value="Absenden">
    </form>
    

    <script>
        const pricePerCup = 1.00;
        var pricePerCupInText = document.getElementById("pricePerCup");
        pricePerCupInText.innerText = pricePerCup.toFixed(2);

        function toggleQuestions() {
            var freeCoffee = document.querySelector('input[name="freeCoffe"]:checked');
            var additionalQuestions = document.getElementById('additionalQuestions');
            var ageInput = document.querySelector('input[name="age"]');
            var consumptionChangeInputs = document.querySelectorAll('input[name="consumptionChange"]');
            var consumptionLikelihoodInputs = document.querySelectorAll('input[name="consumptionLikelihood"]');

            if (freeCoffee && freeCoffee.value === 'ja') {
                additionalQuestions.classList.remove('hidden');
                ageInput.setAttribute('required', 'required');
                consumptionChangeInputs.forEach(input => input.setAttribute('required', 'required'));
                consumptionLikelihoodInputs.forEach(input => input.setAttribute('required', 'required'));
            } else {
                additionalQuestions.classList.add('hidden');
                ageInput.removeAttribute('required');
                consumptionChangeInputs.forEach(input => input.removeAttribute('required'));
                consumptionLikelihoodInputs.forEach(input => input.removeAttribute('required'));
            }
        }

        function toggleFutureConsumption() {
            var consumptionChange = document.querySelector('input[name="consumptionChange"]:checked');
            var futureConsumption = document.getElementById('futureConsumption');
            if (consumptionChange && consumptionChange.value === 'ja') {
                futureConsumption.classList.remove('hidden');
            } else {
                futureConsumption.classList.add('hidden');
            }
        }

        function syncFutureWorkload() {
            var currentWorkload = document.getElementById('workload');
            var futureWorkload = document.getElementById('futureWorkload');
            futureWorkload.value = currentWorkload.value;
            updateFutureCalculation();
        }

        function updateCalculation() {
            var slider = document.getElementById('coffeeSlider');
            var sliderValue = document.getElementById('sliderValue');
            var workload = document.getElementById('workload');
            var coffeePerDay = document.getElementById('coffeePerDay');
            
            var coffeeValue = parseInt(slider.value);
            var workloadValue = parseInt(workload.value) / 100;
            
            sliderValue.textContent = coffeeValue + (coffeeValue == 1 ? " Tasse" : " Tassen");

            // Calculate coffee per day
            var coffeePerDayValue = (coffeeValue / (21 * workloadValue)).toFixed(2);
            coffeePerDay.textContent = coffeePerDayValue;

            // Coffee per month
            var monthlyCups = document.getElementById("monthlyCups");
            monthlyCups.innerText = slider.value;

            // Calculate monthly expense
            var monthlyExpenseValue = (slider.value * pricePerCup).toFixed(2);
            var monthlyCost = document.getElementById("monthlyCost");
            monthlyCost.textContent = monthlyExpenseValue;

            // Update slider value position
            var percent = (slider.value - slider.min) / (slider.max - slider.min);
            var offset = percent * slider.offsetWidth;
            sliderValue.style.left = offset + 'px';
        }

        function validateForm() {
            var freeCoffee = document.querySelector('input[name="freeCoffe"]:checked');
            if (!freeCoffee) {
                alert("Bitte beantworten Sie die erste Frage.");
                console.log("freeCoffee");
                return false;
            }

            var additionalQuestions = document.getElementById('additionalQuestions');
            if (freeCoffee.value === 'ja' && !additionalQuestions.classList.contains('hidden')) {
                var coffeeAmount = document.getElementById('coffeeSlider').value;
                var workload = document.getElementById('workload').value;
                var consumptionChange = document.querySelector('input[name="consumptionChange"]:checked');
                var consumptionLikelihood = document.querySelector('input[name="consumptionLikelihood"]:checked');
                var age = document.querySelector('input[name="age"]').value;

                if (!age || !consumptionChange || !consumptionLikelihood) {
                    alert("Bitte beantworten Sie alle Fragen.");
                    return false;
                } else {
                    alert("Vielen Dank für Deine Teilnahme!\n");
                    // alert("Vielen Dank für Deine Teilnahme!\n" +
                    //       "Gratiskaffee-Nutzung: " + freeCoffee.value + "\n" +
                    //       "Aktueller Kaffeekonsum: " + coffeeAmount + (coffeeAmount == 1 ? " Tasse" : " Tassen") + " pro Monat\n" +
                    //       "Aktuelles Arbeitspensum: " + workload + "%\n" +
                    //       "Änderung bei 0.50 CHF pro Tasse: " + consumptionChange.value + "\n"
                    //     );
                }
            } else {
                alert("Vielen Dank für Deine Teilnahme!\n");
            }
            return false; // Prevents form submission for this example
        }

        // Initialize the calculations on page load
        updateCalculation();
    </script>
</body>
</html>
